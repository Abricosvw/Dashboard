# Решение проблемы с расширением .json на SD карте

## Проблема
ESP-IDF/FATFS имеет проблемы с созданием файлов с расширением `.json`, вызывая ошибку `errno: 22` (EINVAL - Invalid argument).

## Результаты тестирования
Из логов видно:
- ✅ `/sdcard/test1.txt` - успешно
- ❌ `/sdcard/test2.json` - errno: 22
- ✅ `/sdcard/test3` (без расширения) - успешно  
- ✅ `/sdcard/t.txt` - успешно
- ✅ `settings.txt` - успешно сохранен

## Решение
Переименовали файл настроек с `settings.json` на `settingssaving.txt`.

### Изменения в коде:

#### 1. Функция сохранения (`settings_save`):
```c
// Было:
result = sd_card_write_file("/sdcard/settings.json", json_buffer);

// Стало:
result = sd_card_write_file("/sdcard/settingssaving.txt", json_buffer);
```

#### 2. Функция загрузки (`settings_load`):
```c
// Было:
FILE* f = fopen("/sdcard/settings.json", "r");

// Стало:
FILE* f = fopen("/sdcard/settingssaving.txt", "r");
```

#### 3. Удалены проблемные тесты:
Убрано тестирование файлов с расширением `.json` из диагностических функций.

## Формат файла
Файл `settingssaving.txt` содержит данные в формате JSON:
```json
{"sensitivity":3,"demo_mode":false,"screen3_enabled":true}
```

## Функциональность
- ✅ Сохранение настроек работает
- ✅ Загрузка настроек работает
- ✅ Формат данных остался JSON (просто в .txt файле)
- ✅ Все существующие функции парсинга работают без изменений

## Преимущества решения
1. **Простота**: Минимальные изменения в коде
2. **Совместимость**: Все существующие функции работают
3. **Надежность**: .txt файлы стабильно создаются
4. **Читаемость**: Файл можно открыть на компьютере как обычный текст

## Альтернативные расширения
Если нужны другие расширения, протестированные варианты:
- `.txt` - ✅ работает
- `.cfg` - скорее всего работает  
- `.conf` - скорее всего работает
- без расширения - ✅ работает
- `.json` - ❌ не работает в ESP-IDF

## Заключение
Проблема решена простым переименованием файла. ESP32 успешно сохраняет и загружает настройки в формате JSON, просто в файле с расширением .txt вместо .json.
